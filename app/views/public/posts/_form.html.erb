<div class="row">
  <div class="col-md-8 col-md-6 mx-auto">
    <%= render 'layouts/error_messages', resource: post %>
    <%= form_with model: post, local: true, html: {enctype: "multipart/form-data"} do |f| %>
  
      <div class="form-group text-center">
        <%= f.label :image do %>
          <p class="mb-2">現在の画像</p>
          <%= image_tag post.get_image(300, 200), class: "img-fluid mb-2 border rounded shadow-sm" %>
            <span class="btn btn-outline-secondary btn-block">画像を選択/変更</span>
          <% end %>
        <%= f.file_field :image, accept: 'image/*', class: 'd-none' %>
      </div>

      <div class="form-group">
        <%= f.label :title %>
        <%= f.text_field :title, class: 'form-control', placeholder: 'タイトルを入力' %>
      </div>

      <div class="form-group">
        <%= f.label :address, "場所(住所)" %>
        <%= f.text_field :address, class: 'form-control', placeholder: '例：東京都千代田区千代田〇〇' %>
      </div>

      <div class="form-group">
        <%= f.label :body, "詳細・エピソード" %>
        <%= f.text_area :body, rows: 5, class: 'form-control', placeholder: '推しの詳細、具体的なエピソード' %>
      </div>

      <%= f.hidden_field :latitude %>
      <%= f.hidden_field :longitude %>

      <div class="form-group mt-4">
        <% button_text = post.new_record? ? "新規投稿する" : "変更を保存する" %>
        <%= f.submit button_text, class: 'btn btn-success btn-lg btn-block' %>
      </div>

    <% end %>

  </div>
</div>
